<!-- 

Copyright 2015 Stefano Terna

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->
<div class="jumbotron">
  <h2><span class="label label-success">{{ project.name }}</span>  <small>Board: {{ project.board }}, Board language: {{ projectCtrl.fwlanguage() }}</small></h2>
  <h2>Create your IoT project <small>and add one ore more boards to it.</small></h2>
    <div class="well well-lg">
      <form name="createProjectForm" class="css-form" novalidate>
        <fieldset class="form-group">
          <input ng-model="project.name" type="text" class="form-control" placeholder="Project name ..." title="Project" required=""></input>
        </fieldset>
        <fieldset class="form-group">
          <select ng-model="project.board" class="form-control" ng-options="board for board in ['Dev Docker Device','Arduino','Raspberry Pi','UDOO']"  title="Board" required> 
            <option value="">Select the board for your project</option>
          </select>
          <div ng-hide="projectCtrl.checkBoard()" class="alert alert-danger">'OK, this is a demo. You can just choose Raspberry PI!'</div>
        </fieldset>
        <fieldset class="form-group">
          <button type="submit" class="btn btn-primary btn-lg pull-right next" ng-click="createProjectForm.$valid && projectCtrl.createProject()">Create Project</i></button>
        </fieldset>
      </form>            
    </div>

    <div class="well well-lg" ng-show="projectCtrl.validateProject()">
      <p>Awesome! Your project has been created.</p>
      <p>To connect your <mark>{{ project.board }}s</mark> to the project, follows these steps for each board:
        <ul>
          <li>power up your {{ project.board }}</li>
          <li>connect it to your local network (LAN or WiFI)</li>
          <li>ssh (or putty) into the board (this will be the last and only time)</li>
          <li>copy this command, paste it into ssh (or putty) console and hit return: <br><code>{{ project.runinstallercommand }}</code></li>
        </ul>
      </p>
      {{ project.projecturl }}

    </div>

    <div class="well well-lg" ng-controller="BoardsController as boardsCtrl" name="createboard" ng-form>
      <table class="table table-condensed">
        <thead>
          <tr>
            <th>Board name</th>
            <th>Board unique ID</th>
            <th><span class="pull-right">IOTTLY ready base Firmware</span></th>                    
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="board in project.boards">
            <td>{{ board.name }}</td>
            <td>{{ board.ID }}</td>
            <td>
              <button class="btn btn-warning btn-xs pull-right" ng-click=""><i class="glyphicon glyphicon-download-alt"></i> FW for {{ board.ID }}</button>
            </td>
            
          </tr>
        </tbody>
      </table>
      <div class="well well-sm" ng-hide="projectCtrl.checkBoardList()" style="margin-bottom:5px;">Add at least a board to the project.</div>

      <div class="form-inline">
        <fieldset class="form-group">
          <input ng-model="boardsCtrl.board.name" type="text" class="form-control" placeholder="Board name ..." title="Board name" name"boardname"></input>
        </fieldset>
        <button class="btn btn-sm pull-right" ng-click="boardsCtrl.checkBoardName() && boardsCtrl.addBoard(project.boards)" style="vertical-align: middle;"><i class="glyphicon glyphicon-plus"></i></button>                
      </div>            
    </div>

    <fieldset class="form-group">
      <button type="submit" class="btn btn-primary btn-lg pull-right next" ng-click="projectCtrl.validateProject() && panel.setTab(1)">Next <i class="glyphicon glyphicon-arrow-right"></i></button>
    </fieldset>

</div>